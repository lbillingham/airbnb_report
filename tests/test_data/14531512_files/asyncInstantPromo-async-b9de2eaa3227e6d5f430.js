!function(){var e=webpackJsonp([33],{"9yMo":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("Jmof"),o=babelHelpers.interopRequireDefault(i),r=n("yu5W"),a=babelHelpers.interopRequireDefault(r),l=n("O2kN"),u=babelHelpers.interopRequireDefault(l),s={onEnter:a.default.func.isRequired,uniqueId:a.default.string.isRequired,scrollableAncestor:a.default.any},c={scrollableAncestor:null},d=function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEnterWaypoint=n.onEnterWaypoint.bind(n),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onEnterWaypoint",value:function(){function e(){var e=this.props,t=e.onEnter,n=e.uniqueId;document.getElementById(n)||(this.createElement(),t())}return e}()},{key:"createElement",value:function(){function e(){var e=document.createElement("div");e.id=this.props.uniqueId,document.body.appendChild(e)}return e}()},{key:"render",value:function(){function e(){return o.default.createElement(u.default,{onEnter:this.onEnterWaypoint,scrollableAncestor:this.props.scrollableAncestor})}return e}()}]),t}(o.default.Component);t.default=d,d.propTypes=s,d.defaultProps=c,e.exports=t.default},BnBL:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChinaP1Tracking=void 0;var i=n("vzCO"),o=babelHelpers.interopRequireDefault(i);t.ChinaP1Tracking=new o.default("china");t.default=new o.default("p1")},vzCO:function(e,t,n){function i(e,t){var n=void 0;return function(){clearTimeout(n),n=setTimeout(function(){n=null,e()},t)}}function o(){return c.default.is("sm")?"sm":c.default.is("md")?"md":"lg"}Object.defineProperty(t,"__esModule",{value:!0});var r=n("Jmof"),a=babelHelpers.interopRequireDefault(r),l=n("j9xI"),u=babelHelpers.interopRequireDefault(l),s=n("bnGD"),c=babelHelpers.interopRequireDefault(s),d=n("Rko5"),g=babelHelpers.interopRequireDefault(d),f=n("807L"),v=babelHelpers.interopRequireDefault(f),p=n("9yMo"),h=babelHelpers.interopRequireDefault(p),b=function(){function e(t){babelHelpers.classCallCheck(this,e),this.eventName=t,this.waypointsCreated=0,this.waypointImpressions=0,this.debounceScroll=i(this.flushEvents.bind(this),1e3),this.debounceFlush=i(function(){u.default.getLogger().flushEventQueue()},1),this.getScrollEventData=this.getScrollEventData.bind(this),this.logFirstClick=this.logFirstClick.bind(this),this.logFirstScroll=this.logFirstScroll.bind(this)}return babelHelpers.createClass(e,[{key:"logEvent",value:function(){function e(e){this.queueEvent(e),this.debounceFlush()}return e}()},{key:"queueEvent",value:function(){function e(e){u.default.queueEvent(this.appendCommonData(e))}return e}()},{key:"appendCommonData",value:function(){function e(e){var t=e;return t&&(t.datadog_tags?t.datadog_tags=String(e.datadog_tags)+",device_size:"+String(o())+",locale:"+String(g.default.locale()):t.datadog_tags="device_size:"+String(o())+",locale:"+String(g.default.locale())),{event_name:this.eventName,event_data:Object.assign({current_time:Date.now(),device_size:o()},t)}}return e}()},{key:"logWaypoint",value:function(){function e(e){var t=this.getImpressionEventData(String(e)+"_waypoint");this.queueEvent(Object.assign({datadog_key:String(this.eventName)+"_waypoint_impression",datadog_count:1,datadog_tags:"section_name:"+String(e)+",index:"+this.waypointImpressions++},t)),this.debounceScroll()}return e}()},{key:"logClick",value:function(){function e(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.queueEvent(Object.assign({section:e,operation:"click",index:t,item_key:n},o,{datadog_key:String(this.eventName)+"_"+String(e)+"_click",datadog_count:1,datadog_tags:""+String(i)}))}return e}()},{key:"logClickImmediate",value:function(){function e(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.logClick(e,t,n,i,o),this.debounceFlush()}return e}()},{key:"logVideoEvent",value:function(){function e(e,t,n,i,o,r){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};this.logEvent(Object.assign({section:e,autoplay:t,currentTime:n,operation:i,item_key:o},a,{datadog_key:String(this.eventName)+"_"+String(e)+"_"+String(i),datadog_count:1,datadog_tags:""+String(r)}))}return e}()},{key:"getScrollEventData",value:function(){function e(e,t){return{operation:"scroll",direction:t,section:e}}return e}()},{key:"logHorizontalScroll",value:function(){function e(e){var t=Object.assign({datadog_key:String(this.eventName)+"_horizontal_scroll",datadog_count:1,datadog_tags:"section:"+String(e)},this.getScrollEventData(e,"horizontal"));this.queueEvent(t)}return e}()},{key:"getImpressionEventData",value:function(){function e(e){return{operation:"impression",section:e}}return e}()},{key:"logIndividualImpression",value:function(){function e(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Object.assign({index:t,item_key:n},i,{datadog_key:String(this.eventName)+"_individual_"+String(e)+"_impression",datadog_count:1,datadog_tags:"index:"+String(t)},this.getImpressionEventData(e));this.queueEvent(o)}return e}()},{key:"flushEvents",value:function(){function e(){this.debounceFlush()}return e}()},{key:"createCardImpressionCallback",value:function(){function e(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i,o){i.forEach(function(i){t.logIndividualImpression(e,i.index,i.key,n)}),o&&t.logHorizontalScroll(e),t.flushEvents()}}return e}()},{key:"bindFirstClickLogging",value:function(){function e(){window.addEventListener("click",this.logFirstClick)}return e}()},{key:"logFirstClick",value:function(){function e(e){if(e.target){for(var t=String(e.target.nodeName)+"."+String(e.target.className),n=e.target.parentNode;n;)t+=" -> "+String(n.nodeName)+"."+String(n.className),n=n.parentNode;this.logEvent({operation:"first_click",section:"page_container",dom:t,datadog_key:String(this.eventName)+"_first_click",datadog_count:1}),window.removeEventListener("click",this.logFirstClick)}}return e}()},{key:"bindFirstScrollLogging",value:function(){function e(){window.addEventListener("scroll",this.logFirstScroll)}return e}()},{key:"logFirstScroll",value:function(){function e(){var e=this.getScrollEventData("page_container","vertical");this.logEvent(Object.assign({datadog_key:String(this.eventName)+"_first_vertical_scroll",datadog_count:1},e)),window.removeEventListener("scroll",this.logFirstScroll)}return e}()},{key:"createTrackingWaypoint",value:function(){function e(e){var t=this;return(0,v.default)()?null:a.default.createElement(h.default,{onEnter:function(){function n(){return t.logWaypoint(e)}return n}(),uniqueId:String(this.eventName)+"_impression_"+String(e)+"_"+this.waypointsCreated++})}return e}()}]),e}();t.default=b,e.exports=t.default}});"object"==typeof module&&(module.exports=e)}();